{"id":"node_modules/inversify/lib/resolution/instantiation.js","dependencies":[{"name":"/Users/aiyushdhar/Projects/curious-js/package.json","includedInParent":true,"mtime":1596799900330},{"name":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/package.json","includedInParent":true,"mtime":1596796769792},{"name":"../constants/error_msgs","loc":{"line":3,"column":27},"parent":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/lib/resolution/instantiation.js","resolved":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/lib/constants/error_msgs.js"},{"name":"../constants/literal_types","loc":{"line":4,"column":30},"parent":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/lib/resolution/instantiation.js","resolved":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/lib/constants/literal_types.js"},{"name":"../constants/metadata_keys","loc":{"line":5,"column":27},"parent":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/lib/resolution/instantiation.js","resolved":"/Users/aiyushdhar/Projects/curious-js/node_modules/inversify/lib/constants/metadata_keys.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, [void 0].concat(injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/inversify/lib/resolution/instantiation.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}}],"sources":{"node_modules/inversify/lib/resolution/instantiation.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, [void 0].concat(injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n"},"lineCount":51}},"error":null,"hash":"dc952490fc9a51bfd49e8b1cfb5ab2e9","cacheData":{"env":{}}}